# Any tests that are network intensive are run on virtual devices because they do not run
# on the same congested network as physical devices. Running select tests on virtual devices
# ensures a more stable CI test execution and prevents test runs from exceeding the
# Firebase Test Lab physical device 30 minute time limit.
integration-media-tests:
    timeout: 30m
    type: instrumentation
    app: library/ftl/library-dummy-test-app.apk
    test: library/build/outputs/apk/androidTest/debug/library-debug-androidTest.apk
    device:
        - {model: m0, version: 18}
        - {model: g3, version: 19}
        - {model: flo, version: 21}
        - {model: A0001, version: 22}
        - {model: hero2lte, version: 23}
        - {model: lucye, version: 24}
        - {model: sailfish, version: 25}
        - {model: walleye, version: 26}
        - {model: walleye, version: 27}
        - {model: walleye, version: 28}
    test-targets:
        - "annotation com.twilio.video.testcategories.MediaTest"

integration-network-tests:
    timeout: 60m
    type: instrumentation
    app: library/ftl/library-dummy-test-app.apk
    test: library/build/outputs/apk/androidTest/debug/library-debug-androidTest.apk
    device:
        - {model: Nexus5, version: 21}
        - {model: Pixel2, version: 28}
    test-targets:
        - "annotation com.twilio.video.testcategories.NetworkTest"

integration-participant-tests:
    timeout: 60m
    type: instrumentation
    app: library/ftl/library-dummy-test-app.apk
    test: library/build/outputs/apk/androidTest/debug/library-debug-androidTest.apk
    device:
        - {model: Nexus5, version: 21}
        - {model: Pixel2, version: 28}
    test-targets:
        - "annotation com.twilio.video.testcategories.ParticipantTest"

integration-room-tests:
    timeout: 30m
    type: instrumentation
    app: library/ftl/library-dummy-test-app.apk
    test: library/build/outputs/apk/androidTest/debug/library-debug-androidTest.apk
    device:
        - {model: Nexus5, version: 21}
        - {model: Pixel2, version: 28}
    test-targets:
        - "annotation com.twilio.video.testcategories.RoomTest"

integration-recording-tests:
    timeout: 30m
    type: instrumentation
    app: library/ftl/library-dummy-test-app.apk
    test: library/build/outputs/apk/androidTest/debug/library-debug-androidTest.apk
    device:
        - {model: Nexus5, version: 21}
        - {model: Pixel2, version: 28}
    test-targets:
        - "annotation com.twilio.video.testcategories.RecordingTest"

integration-stats-tests:
    timeout: 30m
    type: instrumentation
    app: library/ftl/library-dummy-test-app.apk
    test: library/build/outputs/apk/androidTest/debug/library-debug-androidTest.apk
    device:
        - {model: Nexus5, version: 21}
        - {model: Pixel2, version: 28}
    test-targets:
        - "annotation com.twilio.video.testcategories.StatsTest"

integration-track-tests:
    timeout: 30m
    type: instrumentation
    app: library/ftl/library-dummy-test-app.apk
    test: library/build/outputs/apk/androidTest/debug/library-debug-androidTest.apk
    device:
        - {model: m0, version: 18}
        - {model: g3, version: 19}
        - {model: flo, version: 21}
        - {model: A0001, version: 22}
        - {model: hero2lte, version: 23}
        - {model: lucye, version: 24}
        - {model: sailfish, version: 25}
        - {model: walleye, version: 26}
        - {model: walleye, version: 27}
        - {model: walleye, version: 28}
    test-targets:
        - "annotation com.twilio.video.testcategories.TrackTest"

integration-codec-tests:
    timeout: 60m
    type: instrumentation
    app: library/ftl/library-dummy-test-app.apk
    test: library/build/outputs/apk/androidTest/debug/library-debug-androidTest.apk
    device:
        - {model: Nexus5, version: 21}
        - {model: Pixel2, version: 28}
    test-targets:
        - "annotation com.twilio.video.testcategories.CodecTest"

integration-capturer-tests:
    timeout: 30m
    type: instrumentation
    app: library/ftl/library-dummy-test-app.apk
    test: library/build/outputs/apk/androidTest/debug/library-debug-androidTest.apk
    device:
        - {model: A0001, version: 22}
        - {model: athene, version: 23}
        - {model: athene_f, version: 23}
        - {model: hwALE-H, version: 21}
        - {model: g3, version: 19}
        - {model: hero2lte, version: 23}
        - {model: lucye, version: 24}
        - {model: hlte, version: 19}
        - {model: j7xelte, version: 23}
        - {model: lt02wifi, version: 19}
        - {model: m0, version: 18}
        - {model: sailfish, version: 25}
        - {model: sailfish, version: 27}
        - {model: walleye, version: 26}
        - {model: walleye, version: 27}
        - {model: walleye, version: 28}
        - {model: shamu, version: 22}
        - {model: zeroflte, version: 23}
        - {model: shamu, version: 22}
    test-targets:
        - "annotation com.twilio.video.testcategories.CapturerTest"
