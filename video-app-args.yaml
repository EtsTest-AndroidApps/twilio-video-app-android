# The tests that rely heavily on the Stats API require much more time to execute. These tests
# run in a separate test execution to ensure the entire test suite does not exceed the Firebase
# Test Lab 30 minute physical device time limit.

library-stats-instrumentation-tests:
    timeout: 30m
    type: instrumentation
    app: app/build/outputs/apk/internal/debug/app-internal-debug.apk
    test: library/build/outputs/apk/androidTest/debug/library-debug-androidTest.apk
    device-ids:
        - m0
        - zeroflte
        - herolte
        - flo
        - sailfish
    os-version-ids:
        - 18
        - 19
        - 21
        - 22
        - 23
        - 24
        - 25
        - 26
    test-targets:
        - class com.twilio.video.StatsTest
        - class com.twilio.video.StatsTopologyParameterizedTest
        - class com.twilio.video.CodecPreferencesTest
        - class com.twilio.video.MultiCodecParameterizedTest
    locales: en
    orientations: portrait

library-no-stats-instrumentation-tests:
    timeout: 30m
    type: instrumentation
    app: app/build/outputs/apk/internal/debug/app-internal-debug.apk
    test: library/build/outputs/apk/androidTest/debug/library-debug-androidTest.apk
    device-ids:
        - m0
        - zeroflte
        - herolte
        - flo
        - sailfish
    os-version-ids:
        - 18
        - 19
        - 21
        - 22
        - 23
        - 24
        - 25
        - 26
    locales: en
    orientations: portrait
    environment-variables:
        notClass: com.twilio.video.StatsTest,com.twilio.video.StatsTopologyParameterizedTest,com.twilio.video.CodecPreferencesTest,com.twilio.video.MultiCodecParameterizedTest

library-camera-tests:
    timeout: 10m
    type: instrumentation
    app: app/build/outputs/apk/internal/debug/app-internal-debug.apk
    test: library/build/outputs/apk/androidTest/debug/library-debug-androidTest.apk
    device-ids:
        - A0001
        - athene
        - athene_f
        - hwALE-H
        - g3
        - hero2lte
        - herolte
        - hlte
        - j7xelte
        - lt02wifi
        - m0
        - A0001
        - sailfish
        - zeroflte
        - zerolte
        - shamu
        # The following devices have known issues executing camera tests. The bugs and tasks
        # are tracked in epic GSDK-1278.
        #
        # - j1acevelte
        # - flo
        # - D6503
        # - D6603
        # - victara
        # - SH-04H
        # - htc_m8
        # - hammerhead
    os-version-ids:
        - 18
        - 19
        - 21
        - 22
        - 23
        - 24
        - 25
        - 26
    test-targets:
        - class com.twilio.video.Camera2CapturerIdParameterizedTest
        - class com.twilio.video.Camera2CapturerTest
        - class com.twilio.video.Camera2CapturerUsageTest
        - class com.twilio.video.CameraCapturerSourceParameterizedTest
        - class com.twilio.video.CameraCapturerTest
    locales: en
    orientations: portrait
